{{ ansible_managed | comment }}
# basic nomad configuration file

name = "{{ nomad_name }}"
region = "{{ nomad_region }}"
datacenter = "{{ nomad_datacenter }}"

enable_debug = false
disable_update_check = false


bind_addr = "0.0.0.0"
advertise {
    http = "{{ nomad_advertise_addr }}:4646"
    rpc = "{{ nomad_advertise_addr }}:4647"
    serf = "{{ nomad_advertise_addr }}:4648"
}
ports {
    http = 4646
    rpc = 4647
    serf = 4648
}

telemetry {
    collection_interval = "1s"
    disable_hostname = true
    prometheus_metrics = true
    publish_allocation_metrics = true
    publish_node_metrics = true
}

log_level = "{{ nomad_log_level }}"
data_dir  = "{{ nomad_data_dir }}"
enable_syslog = true

leave_on_terminate = true
leave_on_interrupt = false

acl {
    enabled = false
    token_ttl = "30s"
    policy_ttl = "30s"
    replication_token = ""
}

vault {
    enabled = false
    address = "0.0.0.0"
    allow_unauthenticated = true
    create_from_role = ""
    task_token_ttl = ""
    ca_file = ""
    ca_path = ""
    cert_file = ""
    key_file = ""
    tls_server_name = ""
    tls_skip_verify = false
    token = ""
    namespace = ""
}